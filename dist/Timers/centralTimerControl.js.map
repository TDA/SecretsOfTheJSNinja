{"version":3,"sources":["../../Timers/centralTimerControl.js"],"names":[],"mappings":";;AAAA,IAAI,eAAe;AACjB,WAAS,CADQ;AAEjB,kBAAgB,EAFC;;AAIjB,oBAAkB,0BAAS,EAAT,EAAa;AAC7B,SAAK,cAAL,CAAoB,IAApB,CAAyB,EAAzB;AACD,GANgB;;AAQjB,SAAO,iBAAY;;AAEjB,QAAI,KAAK,OAAT,EAAkB;;AAElB,KAAC,SAAS,YAAT,GAAwB;AACvB;;AAEA,WAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,aAAa,cAAb,CAA4B,MAAhD,EAAwD,GAAxD,EAA6D;;;AAG3D,YAAI,aAAa,cAAb,CAA4B,CAA5B,QAAqC,KAAzC,EAAgD;;AAE9C,uBAAa,cAAb,CAA4B,MAA5B,CAAmC,CAAnC,EAAsC,CAAtC;AACA;AACD;AACF;AACD,mBAAa,OAAb,GAAuB,WAAW,YAAX,EAAyB,CAAzB,CAAvB;AACD,KAbD;AAcD,GA1BgB;;AA4BjB,QAAM,gBAAY;AAChB,iBAAa,KAAK,OAAlB;AACA,SAAK,OAAL,GAAe,CAAf;AACD;AA/BgB,CAAnB;;AAkCA,IAAI,IAAI,CAAR;AACA,aAAa,gBAAb,CAA8B,YAAY;AACxC,UAAQ,GAAR,CAAY,IAAI,MAAhB;AACA,MAAI,OAAO,CAAX,EAAc,OAAO,KAAP;AACf,CAHD;;AAKA,aAAa,gBAAb,CAA8B,YAAY;AACxC,UAAQ,GAAR,CAAY,IAAI,MAAhB;AACA,MAAI,OAAO,EAAX,EAAe,OAAO,KAAP;AAChB,CAHD;;AAKA,aAAa,gBAAb,CAA8B,YAAY;AACxC,UAAQ,GAAR,CAAY,IAAI,YAAhB;AACA,MAAI,OAAO,EAAX,EAAe,OAAO,KAAP;AAChB,CAHD;;AAKA,aAAa,KAAb","file":"centralTimerControl.js","sourcesContent":["var centralTimer = {\n  timerID: 0,\n  timerCallbacks: [],\n\n  addTimerCallback: function(fn) {\n    this.timerCallbacks.push(fn);\n  },\n\n  start: function () {\n    // if there is an existing central timer, don't start a new one\n    if (this.timerID) return;\n\n    (function runNextTimer() {\n      'use strict';\n\n      for (let i = 0; i < centralTimer.timerCallbacks.length; i++) {\n        // execute each callback, and remove it if it returns false, else\n        // continue executing it at the next available block\n        if (centralTimer.timerCallbacks[i]() === false) {\n          // remove\n          centralTimer.timerCallbacks.splice(i, 1);\n          i--;\n        }\n      }\n      centralTimer.timerID = setTimeout(runNextTimer, 0);\n    })();\n  },\n\n  stop: function () {\n    clearTimeout(this.timerID);\n    this.timerID = 0;\n  }\n};\n\nvar x = 0;\ncentralTimer.addTimerCallback(function () {\n  console.log(x + ' sai');\n  if (x++ >= 5) return false;\n});\n\ncentralTimer.addTimerCallback(function () {\n  console.log(x + ' boy');\n  if (x++ >= 10) return false;\n});\n\ncentralTimer.addTimerCallback(function () {\n  console.log(x + ' kathrikai');\n  if (x++ >= 15) return false;\n});\n\ncentralTimer.start();"]}