{"version":3,"sources":["../../Prototypes/intermediate_prototypes.js"],"names":[],"mappings":";;AAAA,MAAM,QAAQ,QAAR,CAAN;;AAEA,SAAS,MAAT,GAAiB,CAEhB;;AAED,OAAO,SAAP,CAAiB,KAAjB,GAAyB,YAAU,CAAE,CAArC;;AAGA,SAAS,KAAT,GAAgB,CAEf;AACD,MAAM,SAAN,GAAkB,EAAE,OAAO,OAAO,SAAP,CAAiB,KAA1B,EAAlB;;AAEA,IAAI,QAAQ,IAAI,KAAJ,EAAZ;;AAEA,IAAI,iBAAJ,CAAsB,iBAAiB,KAAvC,EAA8C,eAA9C;AACA,IAAI,iBAAJ,CAAsB,iBAAiB,MAAvC,EAA+C,kBAA/C;AACA,IAAI,iBAAJ,CAAsB,OAAO,MAAM,KAAb,KAAuB,UAA7C,EAAyD,gCAAzD;;AAEA,IAAI,mBAAJ;AACA,MAAM,SAAN,GAAkB,IAAI,MAAJ,EAAlB;;AAEA,IAAI,WAAW,IAAI,KAAJ,EAAf;AACA,IAAI,iBAAJ,CAAsB,oBAAoB,KAA1C,EAAiD,eAAjD;AACA,IAAI,iBAAJ,CAAsB,oBAAoB,MAA1C,EAAkD,oBAAlD;AACA,IAAI,iBAAJ,CAAsB,OAAO,SAAS,KAAhB,KAA0B,UAAhD,EAA4D,qCAA5D;;AAEA,IAAI,mBAAJ;;AAEA,OAAO,SAAP,CAAiB,IAAjB,GAAwB,YAAW;AACjC,MAAI,OAAO,EAAX;AACA,OAAK,IAAI,CAAT,IAAc,IAAd,EAAoB;;AAElB,QAAI,KAAK,cAAL,CAAoB,CAApB,CAAJ,EACE,KAAK,IAAL,CAAU,CAAV;AACH;;AAED,SAAO,IAAP;AACD,CATD;;AAWA,IAAI,MAAM,EAAE,GAAG,CAAL,EAAQ,GAAG,CAAX,EAAc,GAAG,CAAjB,EAAV;AACA,IAAI,iBAAJ,CAAsB,IAAI,IAAJ,GAAW,MAAX,IAAqB,CAA3C,EAA8C,4CAA9C;AACA,IAAI,mBAAJ;;;AAGA,OAAO,SAAP,CAAiB,GAAjB,GAAuB,UAAS,GAAT,EAAa;AAClC,SAAO,OAAO,GAAd;AACD,CAFD;AAGA,IAAI,IAAI,CAAR;AACA,IAAI,iBAAJ,CAAsB,EAAE,GAAF,CAAM,CAAN,KAAY,CAAlC,EAAqC,yBAArC;AACA,IAAI,iBAAJ,CAAuB,CAAD,EAAI,GAAJ,CAAQ,CAAR,KAAc,CAApC,EAAuC,2CAAvC;;;AAGA,IAAI,mBAAJ;;AAEA,SAAS,IAAT,CAAc,KAAd,EAAqB,IAArB,EAA2B;AACzB,OAAK,IAAL,GAAY,QAAQ,GAAR,GAAc,IAA1B;AACD;;;AAGD,IAAI,OAAO,KAAK,QAAL,EAAe,UAAf,CAAX;AACA,IAAI,iBAAJ,CAAsB,QAAQ,KAAK,IAAnC,EAAyC,kBAAzC;;;;AAIA,IAAI,iBAAJ,CAAsB,SAAS,iBAA/B,EAAkD,cAAlD","file":"intermediate_prototypes.js","sourcesContent":["lib = require('../lib');\n\nfunction Person(){\n\n}\n\nPerson.prototype.dance = function(){};\n\n\nfunction Ninja(){\n\n}\nNinja.prototype = { dance: Person.prototype.dance };\n\nvar ninja = new Ninja();\n\nlib.assertCommandLine(ninja instanceof Ninja, 'Still a ninja');\nlib.assertCommandLine(ninja instanceof Person, 'And not a person');\nlib.assertCommandLine(typeof ninja.dance === 'function', 'But can dance like a person :O');\n\nlib.printHorizontalRule();\nNinja.prototype = new Person();\n\nvar newNinja = new Ninja();\nlib.assertCommandLine(newNinja instanceof Ninja, 'Still a ninja');\nlib.assertCommandLine(newNinja instanceof Person, 'But also  a person');\nlib.assertCommandLine(typeof newNinja.dance === 'function', 'And can also dance like a person :O');\n\nlib.printHorizontalRule();\n// Gotcha time, never extend Object directly\nObject.prototype.keys = function() {\n  var keys = [];\n  for (var p in this) {\n    // or at least do the hasOwn check, else you will be adding to your troubles :D\n    if (this.hasOwnProperty(p))\n      keys.push(p);\n  }\n\n  return keys;\n};\n\nvar obj = { a: 1, b: 2, c: 3 };\nlib.assertCommandLine(obj.keys().length == 3, \"There are three properties in this object.\");\nlib.printHorizontalRule();\n\n// Gotcha 2 - Numbers\nNumber.prototype.add = function(num){\n  return this + num;\n};\nvar n = 5;\nlib.assertCommandLine(n.add(3) == 8, 'Works when num is a var');\nlib.assertCommandLine((5).add(3) == 8, 'Works if num is wrapped in paranthesis :O');\n// lib.assertCommandLine(5.add(3) == 8, 'Blows up otherwise LOL');\n\nlib.printHorizontalRule();\n// Noob issues here:\nfunction User(first, last) {\n  this.name = first + \" \" + last;\n}\n\n// OUCH, missed the `new`, and this calls it as a function, NOT a constructor\nvar user = User(\"Ichigo\", \"Kurosaki\");\nlib.assertCommandLine(user && user.name, 'Name is set, NOT');\n\n// even worse side-effect, introducing a global variable due to calling it as\n// a function instead of constructor :(\nlib.assertCommandLine(name === 'Ichigo Kurosaki', 'HAHAHAHA LOL');\n"]}